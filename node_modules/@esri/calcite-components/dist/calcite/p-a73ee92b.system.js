var __awaiter=this&&this.__awaiter||function(e,t,i,r){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,a){function l(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r["throw"](e))}catch(t){a(t)}}function u(e){e.done?i(e.value):n(e.value).then(l,s)}u((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,n,a,l;return l={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function s(e){return function(t){return u([e,t])}}function u(l){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(a=l[0]&2?n["return"]:l[0]?n["throw"]||((a=n["return"])&&a.call(n),0):n.next)&&!(a=a.call(n,l[1])).done)return a;if(n=0,a)l=[l[0]&2,a.value];switch(l[0]){case 0:case 1:a=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;n=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(l[0]===6&&i.label<a[1]){i.label=a[1];a=l;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(l);break}if(a[2])i.ops.pop();i.trys.pop();continue}l=t.call(e,i)}catch(s){l=[6,s];n=0}finally{r=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};System.register(["./p-cd85029f.system.js","./p-482ec054.system.js","./p-53caa311.system.js","./p-6d15c15c.system.js","./p-94d2ed32.system.js"],(function(e){"use strict";var t,i,r,n,a,l,s,u;return{setters:[function(e){t=e.f;i=e.c;r=e.g},function(e){n=e.g},function(e){a=e.d},function(e){l=e.h;s=e.H},function(e){u=e.C}],execute:function(){e({a:d,b:v,c:h,d:x,e:m,f:E,g:O,h:I,i:f,j:S,k:b,m:c,r:y,s:_});function c(){this.setUpItems();this.setUpFilter()}var o=["ArrowUp","ArrowDown"];function f(){this.setUpItems();this.setUpFilter();this.emitCalciteListChange=a(g.bind(this),0)}function d(){this.observer.observe(this.el,{childList:true,subtree:true})}function h(){this.observer.disconnect()}function v(e){var t=this.selectedValues;var i=e.detail,r=i.item,n=i.value,a=i.selected,l=i.shiftPressed;if(a){if(!this.multiple){this.deselectSiblingItems(r)}if(this.multiple&&l){this.selectSiblings(r)}t.set(n,r)}else{t.delete(n);if(this.multiple&&l){this.selectSiblings(r,true)}}if(!this.multiple){w(r,a)}this.lastSelectedItem=r;this.emitCalciteListChange()}function m(e){e.stopPropagation();var t=e.detail.oldValue;var i=this.selectedValues;if(i.has(t)){var r=i.get(t);i.delete(t);i.set(e.detail.newValue,r)}}function p(e){return!!o.find((function(t){return t===e}))}function b(e){var i=e.key,r=e.target;if(!p(i)){return}var a=this,l=a.items,s=a.multiple;var u=l.length;var c=l.indexOf(r);if(!u||c===-1){return}e.preventDefault();var o=n(c+(i==="ArrowUp"?-1:1),u);var f=l[o];w(f,true);t(f);if(!s){f.selected=true}}function g(){this.calciteListChange.emit(this.selectedValues)}function y(e){if(e.defaultPrevented){return}var t=e.target;var i=this.selectedValues;if(t.parentElement.tagName==="CALCITE-PICK-LIST-GROUP"){t.parentElement.remove();Array.from(t.parentElement.children).forEach((function(e){return i.delete(e.value)}))}else{t.remove();i.delete(t.value)}this.emitCalciteListChange()}function w(e,t){if(t){e.removeAttribute("tabindex")}else{e.setAttribute("tabindex","-1")}}function S(e){return __awaiter(this,void 0,void 0,(function(){var i,r,n,a;return __generator(this,(function(l){switch(l.label){case 0:if(!(this.filterEnabled&&e==="filter"))return[3,2];return[4,t(this.filterEl)];case 1:l.sent();return[2];case 2:i=this,r=i.multiple,n=i.items;if(n.length===0){return[2]}if(r){return[2,n[0].setFocus()]}a=n.find((function(e){return e.selected}));return[2,(a?a:n[0]).setFocus()]}}))}))}function E(e){var t=this;this.items=Array.from(this.el.querySelectorAll(e));var i=false;var r=this.items;r.forEach((function(e){e.icon=t.getIconType();if(!t.multiple){e.disableDeselect=true;w(e,false)}if(e.selected){i=true;w(e,true);t.selectedValues.set(e.value,e)}}));var n=r[0];if(!i&&n){w(n,true)}}function x(e){var t=this;this.items.forEach((function(i){if(i.value!==e.value){i.toggleSelected(false);if(t.selectedValues.has(i.value)){t.selectedValues.delete(i.value)}}}))}function _(e,t){var i=this;if(t===void 0){t=false}if(!this.lastSelectedItem){return}var r=this.items;var n=r.findIndex((function(e){return e.value===i.lastSelectedItem.value}));var a=r.findIndex((function(t){return t.value===e.value}));r.slice(Math.min(n,a),Math.max(n,a)).forEach((function(e){e.toggleSelected(!t);if(!t){i.selectedValues.set(e.value,e)}else{i.selectedValues.delete(e.value)}}))}var C;function I(e){var t=e.detail;var r=t.map((function(e){return e.value}));var n=false;if(!C){C=new Set}var a=this.items.filter((function(e){var t=e.parentElement;var i=t.matches("calcite-pick-list-group");if(i){C.add(t)}var a=r.includes(e.value);e.hidden=!a;if(!n){n=a&&e.selected}return a}));C.forEach((function(e){var t=a.some((function(t){return e.contains(t)}));e.hidden=!t;if(!t){return}var r=i(e,"parent-item");if(r){r.hidden=false;if(a.includes(r)){Array.from(e.children).forEach((function(e){return e.hidden=false}))}}}));C.clear();if(a.length>0&&!n&&!this.multiple){w(a[0],true)}}function O(){return this.items.map((function(e){return{label:e.label,description:e.description,metadata:e.metadata,value:e.value}}))}var j=undefined&&undefined.__rest||function(e,t){var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0)i[r]=e[r];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++){if(t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n]))i[r[n]]=e[r[n]]}return i};var V=e("L",(function(e){var t;var i=e.props,n=i.disabled,a=i.loading,c=i.filterEnabled,o=i.dataForFilter,f=i.handleFilter,d=i.filterPlaceholder,h=i.el,v=i.setFilterEl,m=i.theme,p=j(e,["props"]);var b=l("slot",null);return l(s,Object.assign({"aria-busy":a.toString(),"aria-disabled":n.toString(),role:"menu"},p),l("section",null,l("header",{class:(t={},t[u.sticky]=true,t)},c?l("calcite-filter",{"aria-label":d,data:o,dir:r(h),disabled:a||n,onCalciteFilterChange:f,placeholder:d,ref:v}):null,l("slot",{name:"menu-actions"})),a||n?l("calcite-scrim",{loading:a,theme:m}):null,b))}))}}}));